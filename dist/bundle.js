document.getElementById("searchBox").addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),function(){const e=document.getElementById("searchBox").value.trim().toLowerCase();""!==e?fetch(`https://openlibrary.org/search.json?subject=${e}`).then((e=>e.json())).then((e=>function(e){const t=document.getElementById("bookList");t.innerHTML="",e&&0!==e.length?e.forEach((e=>{const o=e.title,n=e.author_name?e.author_name.join(", "):"Autore sconosciuto",r=e.key,s=document.createElement("div");s.classList.add("bookItem"),s.innerHTML=`<strong>${o}</strong> - ${n} <button onclick="showBookDescription('${r}')">Mostra Descrizione</button>`,t.appendChild(s)})):t.innerHTML="Nessun libro trovato per questa categoria."}(e.docs))).catch((e=>console.error("Errore nella richiesta API:",e))):alert("Inserisci una categoria valida")}())}));